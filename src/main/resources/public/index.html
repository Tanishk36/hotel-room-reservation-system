<!DOCTYPE html>
<html>
<head>
    <title>Hotel Room Reservation</title>
    <style>
        .room { display:inline-block; width:40px; height:40px; margin:5px; border:1px solid black; text-align:center; }
        .occupied { background:red; }
        .available { background:lightgreen; }
    </style>
</head>
<body>

<h2>Hotel Room Reservation System</h2>

<input id="count" type="number" min="1" max="5" placeholder="Rooms (1-5)">
<button onclick="book()">Book</button>
<button onclick="random()">Random</button>
<button onclick="reset()">Reset</button>

<div id="rooms"></div>

<script>
    function loadRooms() {
        fetch('/rooms')
            .then(r => r.json())
            .then(data => {
                let div = document.getElementById("rooms");
                div.innerHTML = "";
                data.forEach(room => {
                    let r = document.createElement("div");
                    r.className = "room " + (room.occupied ? "occupied" : "available");
                    r.innerText = room.roomNumber;
                    div.appendChild(r);
                });
            });
    }

    function book() {
        let c = document.getElementById("count").value;
        fetch('/book/' + c, { method: 'POST' }).then(loadRooms);
    }

    function random() {
        fetch('/random', { method: 'POST' }).then(loadRooms);
    }

    function reset() {
        fetch('/reset', { method: 'POST' }).then(loadRooms);
    }

    loadRooms();
</script>

</body>
</html>
